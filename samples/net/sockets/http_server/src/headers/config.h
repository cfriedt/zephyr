/*
 * Copyright (c) 2023, Emna Rekik
 *
 * SPDX-License-Identifier: Apache-2.0
 */
#if !defined(__ZEPHYR__)

#define CONFIG_MAX_HTTP_RESPONSE_SIZE 128
#define CONFIG_MAX_HTTP_URL_LENGTH 64
#define CONFIG_NET_HTTP2_MAX_FRAME_SIZE 2048

#endif

#define MAX_HTTP_RESPONSE_SIZE CONFIG_MAX_HTTP_RESPONSE_SIZE
#define MAX_HTTP_URL_LENGTH CONFIG_MAX_HTTP_URL_LENGTH
#define MAX_FRAME_SIZE CONFIG_NET_HTTP2_MAX_FRAME_SIZE

struct http2_frame {
	uint32_t length;
	uint8_t type;
	uint8_t flags;
	uint32_t stream_identifier;
	unsigned char *payload;
};

enum http2_frame_type {
	HTTP2_DATA_FRAME = 0x00,
	HTTP2_HEADERS_FRAME = 0x01,
	HTTP2_PRIORITY_FRAME = 0x02,
	HTTP2_RST_STREAM_FRAME = 0x03,
	HTTP2_SETTINGS_FRAME = 0x04,
	HTTP2_PUSH_PROMISE_FRAME = 0x05,
	HTTP2_PING_FRAME = 0x06,
	HTTP2_GOAWAY_FRAME = 0x07,
	HTTP2_WINDOW_UPDATE_FRAME = 0x08,
	HTTP2_CONTINUATION_FRAME = 0x09
};

#define HTTP2_FLAG_SETTINGS_ACK 0x1
#define HTTP2_FLAG_END_HEADERS 0x4
#define HTTP2_FLAG_STREAM 0x1

#define HTTP2_FRAME_HEADER_SIZE 9
#define HTTP2_FRAME_LENGTH_OFFSET 0
#define HTTP2_FRAME_TYPE_OFFSET 3
#define HTTP2_FRAME_FLAGS_OFFSET 4
#define HTTP2_FRAME_STREAM_ID_OFFSET 5
